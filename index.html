<script>
  window.onload = function () {
    const startDate = new Date();
    startDate.setHours(0, 0, 0, 0);
    startDate.setDate(startDate.getDate() + 21);

    const endDate = new Date(startDate);
    endDate.setDate(endDate.getDate() + 1); // next day for proper all-day duration

    const format = (d) => {
      const yyyy = d.getUTCFullYear();
      const mm = String(d.getUTCMonth() + 1).padStart(2, '0');
      const dd = String(d.getUTCDate()).padStart(2, '0');
      return `${yyyy}${mm}${dd}`;
    };

    const startStr = format(startDate);
    const endStr = format(endDate);

    const url = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=Library+Book+Due+Reminder&dates=${startStr}/${endStr}&details=Your+library+books+are+due+today!`;

    window.location.href = url;
  };
</script>
